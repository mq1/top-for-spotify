---
import BaseLayout from "../layouts/BaseLayout.astro";
import Button from "../components/Button.astro";

const clientID = import.meta.env.PUBLIC_SPOTIFY_CLIENT_ID;
const callback = encodeURIComponent(`${Astro.request.url}me`);

const loginURL = `https://accounts.spotify.com/authorize?client_id=${clientID}&response_type=token&redirect_uri=${callback}&scope=user-top-read&show_dialog=true`;
---

<BaseLayout>
  <a href={loginURL}>
    <Button>Login</Button>
  </a>
</BaseLayout>
